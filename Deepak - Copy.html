<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hostel Management System</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Segoe UI", "Poppins", sans-serif;
    }

    body {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    /* Login Page */
    .login-container {
      width: 100%;
      max-width: 420px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      padding: 40px 30px;
      border-radius: 20px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      animation: fadeIn 0.5s ease-in;
    }

    .login-header {
      text-align: center;
      margin-bottom: 30px;
    }

    .login-header .icon {
      font-size: 48px;
      margin-bottom: 10px;
    }

    .login-container h2 {
      color: #333;
      margin-bottom: 8px;
      font-size: 24px;
    }

    .login-container p {
      color: #666;
      font-size: 14px;
    }

    .form-group {
      margin-bottom: 20px;
    }

    label {
      display: block;
      text-align: left;
      font-weight: 600;
      margin-bottom: 8px;
      color: #444;
      font-size: 14px;
    }

    input, select, textarea {
      width: 100%;
      padding: 12px 15px;
      border: 2px solid #e0e0e0;
      border-radius: 10px;
      outline: none;
      transition: all 0.3s;
      font-size: 14px;
      background: #f9f9f9;
    }

    textarea {
      resize: vertical;
      min-height: 100px;
    }

    input:focus, select:focus, textarea:focus {
      border-color: #667eea;
      background: #fff;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    button {
      width: 100%;
      padding: 14px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border: none;
      color: #fff;
      font-size: 16px;
      font-weight: 600;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 10px;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
    }

    button:active {
      transform: translateY(0);
    }

    .btn-secondary {
      background: #6c757d;
      margin-top: 10px;
    }

    .btn-secondary:hover {
      background: #5a6268;
      box-shadow: 0 8px 20px rgba(108, 117, 125, 0.4);
    }

    .demo {
      margin-top: 25px;
      padding: 15px;
      background: #f0f4ff;
      border-radius: 10px;
      border-left: 4px solid #667eea;
    }

    .demo p {
      font-size: 13px;
      color: #555;
      margin: 5px 0;
      text-align: left;
    }

    .demo strong {
      color: #333;
      display: block;
      margin-bottom: 8px;
    }

    /* Dashboard */
    .dashboard {
      display: none;
      width: 95%;
      max-width: 1200px;
      background: #fff;
      border-radius: 20px;
      padding: 0;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      animation: slideIn 0.5s ease-in-out;
      overflow: hidden;
    }

    header {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 25px 30px;
      color: white;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .header-info h1 {
      font-size: 24px;
      margin-bottom: 5px;
    }

    .header-info p {
      font-size: 14px;
      opacity: 0.9;
    }

    header button {
      width: auto;
      padding: 10px 20px;
      font-size: 14px;
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(10px);
    }

    header button:hover {
      background: rgba(255, 255, 255, 0.3);
    }

    .dashboard-content {
      padding: 30px;
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .stat-card {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 25px;
      border-radius: 15px;
      color: white;
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
      transition: transform 0.3s;
    }

    .stat-card:hover {
      transform: translateY(-5px);
    }

    .stat-card .icon {
      font-size: 36px;
      margin-bottom: 10px;
    }

    .stat-card h3 {
      font-size: 32px;
      margin-bottom: 5px;
    }

    .stat-card p {
      font-size: 14px;
      opacity: 0.9;
    }

    .actions-section {
      margin-top: 30px;
    }

    .actions-section h2 {
      color: #333;
      margin-bottom: 20px;
      font-size: 20px;
    }

    .action-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 15px;
    }

    .action-btn {
      padding: 20px;
      background: #f8f9fa;
      border: 2px solid #e0e0e0;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s;
      text-align: left;
    }

    .action-btn:hover {
      background: #667eea;
      color: white;
      border-color: #667eea;
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
    }

    .action-btn .icon {
      font-size: 24px;
      margin-bottom: 8px;
    }

    .action-btn h3 {
      font-size: 16px;
      margin-bottom: 5px;
    }

    .action-btn p {
      font-size: 13px;
      opacity: 0.8;
    }

    .info-section {
      background: #f8f9fa;
      padding: 25px;
      border-radius: 15px;
      margin-top: 30px;
    }

    .info-section h3 {
      color: #333;
      margin-bottom: 15px;
      font-size: 18px;
    }

    .info-list {
      list-style: none;
    }

    .info-list li {
      padding: 12px 0;
      border-bottom: 1px solid #e0e0e0;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 14px;
    }

    .info-list li:last-child {
      border-bottom: none;
    }

    .info-list strong {
      color: #333;
    }

    .info-list span {
      color: #666;
    }

    .badge {
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
    }

    .badge-success {
      background: #d4edda;
      color: #155724;
    }

    .badge-warning {
      background: #fff3cd;
      color: #856404;
    }

    .badge-danger {
      background: #f8d7da;
      color: #721c24;
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      z-index: 1000;
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.3s ease-in;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      background: white;
      padding: 30px;
      border-radius: 20px;
      max-width: 500px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      animation: slideIn 0.3s ease-in-out;
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    .modal-header h2 {
      color: #333;
      font-size: 22px;
    }

    .close-btn {
      background: none;
      border: none;
      font-size: 28px;
      cursor: pointer;
      color: #666;
      padding: 0;
      width: auto;
      margin: 0;
    }

    .close-btn:hover {
      color: #333;
      transform: none;
      box-shadow: none;
    }

    .table-container {
      overflow-x: auto;
      margin-top: 20px;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      background: white;
      border-radius: 10px;
      overflow: hidden;
    }

    table thead {
      background: #667eea;
      color: white;
    }

    table th, table td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #e0e0e0;
    }

    table tbody tr:hover {
      background: #f8f9fa;
    }

    table tbody tr:last-child td {
      border-bottom: none;
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes slideIn {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }

    .hidden {
      display: none;
    }

    /* Success Message */
    .success-message {
      background: #d4edda;
      color: #155724;
      padding: 15px;
      border-radius: 10px;
      margin-bottom: 20px;
      border-left: 4px solid #28a745;
      animation: fadeIn 0.3s ease-in;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .stats-grid {
        grid-template-columns: 1fr;
      }

      .action-buttons {
        grid-template-columns: 1fr;
      }

      header {
        flex-direction: column;
        gap: 15px;
      }

      .modal-content {
        padding: 20px;
      }
    }
  </style>
</head>

<body>
  <!-- LOGIN PAGE -->
  <div id="loginPage" class="login-container">
    <div class="login-header">
      <div class="icon">üè†</div>
      <h2>Hostel Management System</h2>
      <p>Please sign in to continue</p>
    </div>

    <div class="form-group">
      <label for="roleSelect">Select Role</label>
      <select id="roleSelect">
        <option value="student">Student</option>
        <option value="warden">Warden</option>
        <option value="admin">Admin</option>
      </select>
    </div>

    <div class="form-group">
      <label for="username">Username</label>
      <input type="text" id="username" placeholder="Enter username" />
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <input type="password" id="password" placeholder="Enter password" />
    </div>

    <button id="loginBtn">Login</button>

    <div class="demo">
      <strong>üìã Demo Accounts:</strong>
      <p>Admin ‚Üí <b>admin / admin123</b></p>
      <p>Warden ‚Üí <b>warden / warden123</b></p>
      <p>Student ‚Üí <b>rahul / student123</b></p>
    </div>
  </div>

  <!-- DASHBOARD -->
  <div id="dashboard" class="dashboard">
    <header>
      <div class="header-info">
        <h1 id="roleTitle">Dashboard</h1>
        <p id="welcomeMsg">Welcome back!</p>
      </div>
      <button id="logoutBtn">Logout</button>
    </header>

    <div class="dashboard-content">
      <div id="contentArea"></div>
    </div>
  </div>

  <!-- MODAL -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="modalTitle">Modal Title</h2>
        <button class="close-btn" onclick="closeModal()">&times;</button>
      </div>
      <div id="modalBody"></div>
    </div>
  </div>

  <script>
    // Demo credentials
    const users = {
      admin: { password: 'admin123', name: 'Admin User', role: 'admin' },
      warden: { password: 'warden123', name: 'Warden Singh', role: 'warden' },
      rahul: { password: 'student123', name: 'Rahul Kumar', role: 'student' }
    };

    let currentUser = null;

    // Sample data
    let students = [
      { id: 1, name: 'Rahul Kumar', room: 'A-204', block: 'A', fee: 'Paid', phone: '9876543210' },
      { id: 2, name: 'Priya Sharma', room: 'A-205', block: 'A', fee: 'Pending', phone: '9876543211' },
      { id: 3, name: 'Amit Patel', room: 'B-101', block: 'B', fee: 'Paid', phone: '9876543212' },
      { id: 4, name: 'Sneha Gupta', room: 'B-102', block: 'B', fee: 'Paid', phone: '9876543213' }
    ];

    let complaints = [
      { id: 1, student: 'Rahul Kumar', room: 'A-204', issue: 'AC not working', status: 'In Progress', date: '2025-11-01' },
      { id: 2, student: 'Priya Sharma', room: 'A-205', issue: 'Water leakage', status: 'Pending', date: '2025-11-03' },
      { id: 3, student: 'Amit Patel', room: 'B-101', issue: 'Light not working', status: 'Resolved', date: '2025-10-28' }
    ];

    let rooms = [
      { number: 'A-201', block: 'A', capacity: 3, occupied: 3, status: 'Full' },
      { number: 'A-202', block: 'A', capacity: 3, occupied: 2, status: 'Available' },
      { number: 'A-203', block: 'A', capacity: 3, occupied: 1, status: 'Available' },
      { number: 'B-101', block: 'B', capacity: 2, occupied: 2, status: 'Full' }
    ];

    // Login functionality
    document.getElementById('loginBtn').addEventListener('click', login);

    function login() {
      const username = document.getElementById('username').value.trim();
      const password = document.getElementById('password').value;
      const role = document.getElementById('roleSelect').value;

      if (users[username] && users[username].password === password && users[username].role === role) {
        currentUser = { username, ...users[username] };
        showDashboard();
      } else {
        alert('Invalid credentials! Please check username, password, and role.');
      }
    }

    // Logout functionality
    document.getElementById('logoutBtn').addEventListener('click', () => {
      currentUser = null;
      document.getElementById('dashboard').classList.add('hidden');
      document.getElementById('loginPage').style.display = 'block';
      document.getElementById('username').value = '';
      document.getElementById('password').value = '';
    });

    // Modal functions
    function openModal(title, content) {
      document.getElementById('modalTitle').textContent = title;
      document.getElementById('modalBody').innerHTML = content;
      document.getElementById('modal').classList.add('active');
    }

    function closeModal() {
      document.getElementById('modal').classList.remove('active');
    }

    // Show dashboard based on role
    function showDashboard() {
      document.getElementById('loginPage').style.display = 'none';
      document.getElementById('dashboard').classList.remove('hidden');
      document.getElementById('dashboard').style.display = 'block';
      
      document.getElementById('roleTitle').textContent = `${currentUser.role.charAt(0).toUpperCase() + currentUser.role.slice(1)} Dashboard`;
      document.getElementById('welcomeMsg').textContent = `Welcome, ${currentUser.name}!`;

      const contentArea = document.getElementById('contentArea');

      if (currentUser.role === 'admin') {
        contentArea.innerHTML = getAdminDashboard();
        attachAdminListeners();
      } else if (currentUser.role === 'warden') {
        contentArea.innerHTML = getWardenDashboard();
        attachWardenListeners();
      } else if (currentUser.role === 'student') {
        contentArea.innerHTML = getStudentDashboard();
        attachStudentListeners();
      }
    }

    // Admin Dashboard
    function getAdminDashboard() {
      return `
        <div class="stats-grid">
          <div class="stat-card">
            <div class="icon">üë•</div>
            <h3>${students.length}</h3>
            <p>Total Students</p>
          </div>
          <div class="stat-card">
            <div class="icon">üè¢</div>
            <h3>2</h3>
            <p>Hostel Blocks</p>
          </div>
          <div class="stat-card">
            <div class="icon">üõèÔ∏è</div>
            <h3>${rooms.filter(r => r.status === 'Available').length}</h3>
            <p>Available Rooms</p>
          </div>
          <div class="stat-card">
            <div class="icon">üö®</div>
            <h3>${complaints.filter(c => c.status !== 'Resolved').length}</h3>
            <p>Pending Complaints</p>
          </div>
        </div>

        <div class="actions-section">
          <h2>Quick Actions</h2>
          <div class="action-buttons">
            <button class="action-btn" onclick="addStudent()">
              <div class="icon">‚ûï</div>
              <h3>Add Student</h3>
              <p>Register new student</p>
            </button>
            <button class="action-btn" onclick="viewStudents()">
              <div class="icon">üë•</div>
              <h3>View Students</h3>
              <p>See all students</p>
            </button>
            <button class="action-btn" onclick="manageRooms()">
              <div class="icon">üè†</div>
              <h3>Manage Rooms</h3>
              <p>View & allocate rooms</p>
            </button>
            <button class="action-btn" onclick="viewComplaints()">
              <div class="icon">üö®</div>
              <h3>View Complaints</h3>
              <p>Handle all complaints</p>
            </button>
            <button class="action-btn" onclick="feeManagement()">
              <div class="icon">üí∞</div>
              <h3>Fee Management</h3>
              <p>Track fee payments</p>
            </button>
            <button class="action-btn" onclick="generateReports()">
              <div class="icon">üìä</div>
              <h3>Generate Reports</h3>
              <p>View analytics</p>
            </button>
          </div>
        </div>

        <div class="info-section">
          <h3>üì¢ Recent Activities</h3>
          <ul class="info-list">
            <li><strong>New admission:</strong> <span>Priya Sharma - Block A, Room 205</span></li>
            <li><strong>Fee payment:</strong> <span>Amit Patel paid ‚Çπ15,000</span></li>
            <li><strong>Maintenance request:</strong> <span>AC repair in Block A-204</span></li>
            <li><strong>Room allocation:</strong> <span>3 rooms assigned today</span></li>
          </ul>
        </div>
      `;
    }

    function attachAdminListeners() {
      // Listeners are attached via onclick in HTML
    }

    // Admin Actions
    function addStudent() {
      const form = `
        <form id="addStudentForm">
          <div class="form-group">
            <label>Student Name</label>
            <input type="text" id="studentName" required placeholder="Enter name">
          </div>
          <div class="form-group">
            <label>Room Number</label>
            <input type="text" id="roomNumber" required placeholder="e.g., A-204">
          </div>
          <div class="form-group">
            <label>Block</label>
            <select id="blockSelect" required>
              <option value="A">Block A</option>
              <option value="B">Block B</option>
            </select>
          </div>
          <div class="form-group">
            <label>Phone Number</label>
            <input type="tel" id="phoneNumber" required placeholder="10-digit number">
          </div>
          <button type="submit">Add Student</button>
        </form>
      `;
      
      openModal('‚ûï Add New Student', form);
      
      document.getElementById('addStudentForm').addEventListener('submit', (e) => {
        e.preventDefault();
        const newStudent = {
          id: students.length + 1,
          name: document.getElementById('studentName').value,
          room: document.getElementById('roomNumber').value,
          block: document.getElementById('blockSelect').value,
          fee: 'Pending',
          phone: document.getElementById('phoneNumber').value
        };
        students.push(newStudent);
        closeModal();
        alert('‚úÖ Student added successfully!');
        showDashboard();
      });
    }

    function viewStudents() {
      const table = `
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Room</th>
                <th>Block</th>
                <th>Fee Status</th>
                <th>Phone</th>
              </tr>
            </thead>
            <tbody>
              ${students.map(s => `
                <tr>
                  <td>${s.id}</td>
                  <td>${s.name}</td>
                  <td>${s.room}</td>
                  <td>${s.block}</td>
                  <td><span class="badge ${s.fee === 'Paid' ? 'badge-success' : 'badge-warning'}">${s.fee}</span></td>
                  <td>${s.phone}</td>
                </tr>
              `).join('')}
            </tbody>
          </table>
        </div>
      `;
      openModal('üë• All Students', table);
    }

    function manageRooms() {
      const table = `
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>Room</th>
                <th>Block</th>
                <th>Capacity</th>
                <th>Occupied</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              ${rooms.map(r => `
                <tr>
                  <td>${r.number}</td>
                  <td>${r.block}</td>
                  <td>${r.capacity}</td>
                  <td>${r.occupied}</td>
                  <td><span class="badge ${r.status === 'Full' ? 'badge-danger' : 'badge-success'}">${r.status}</span></td>
                </tr>
              `).join('')}
            </tbody>
          </table>
        </div>
      `;
      openModal('üè† Room Management', table);
    }

    function viewComplaints() {
      const table = `
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>ID</th>
                <th>Student</th>
                <th>Room</th>
                <th>Issue</th>
                <th>Status</th>
                <th>Date</th>
              </tr>
            </thead>
            <tbody>
              ${complaints.map(c => `
                <tr>
                  <td>${c.id}</td>
                  <td>${c.student}</td>
                  <td>${c.room}</td>
                  <td>${c.issue}</td>
                  <td><span class="badge ${c.status === 'Resolved' ? 'badge-success' : c.status === 'In Progress' ? 'badge-warning' : 'badge-danger'}">${c.status}</span></td>
                  <td>${c.date}</td>
                </tr>
              `).join('')}
            </tbody>
          </table>
        </div>
      `;
      openModal('üö® All Complaints', table);
    }

    function feeManagement() {
      const pending = students.filter(s => s.fee === 'Pending');
      const paid = students.filter(s => s.fee === 'Paid');
      
      const content = `
        <div style="margin-bottom: 20px;">
          <h3 style="color: #28a745;">‚úÖ Paid: ${paid.length} students</h3>
          <h3 style="color: #ffc107;">‚ö†Ô∏è Pending: ${pending.length} students</h3>
        </div>
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>Student</th>
                <th>Room</th>
                <th>Status</th>
                <th>Phone</th>
              </tr>
            </thead>
            <tbody>
              ${students.map(s => `
                <tr>
                  <td>${s.name}</td>
                  <td>${s.room}</td>
                  <td><span class="badge ${s.fee === 'Paid' ? 'badge-success' : 'badge-warning'}">${s.fee}</span></td>
                  <td>${s.phone}</td>
                </tr>
              `).join('')}
            </tbody>
          </table>
        </div>
      `;
      openModal('üí∞ Fee Management', content);
    }

    function generateReports() {
      const content = `
        <div style="text-align: center; padding: 20px;">
          <h3 style="color: #667eea; margin-bottom: 20px;">üìä System Statistics</h3>
          <p style="font-size: 16px; margin: 10px 0;"><strong>Total Students:</strong> ${students.length}</p>
          <p style="font-size: 16px; margin: 10px 0;"><strong>Total Rooms:</strong> ${rooms.length}</p>
          <p style="font-size: 16px; margin: 10px 0;"><strong>Available Rooms:</strong> ${rooms.filter(r => r.status === 'Available').length}</p>
          <p style="font-size: 16px; margin: 10px 0;"><strong>Pending Fees:</strong> ${students.filter(s => s.fee === 'Pending').length}</p>
          <p style="font-size: 16px; margin: 10px 0;"><strong>Active Complaints:</strong> ${complaints.filter(c => c.status !== 'Resolved').length}</p>
          <p style="font-size: 16px; margin: 10px 0;"><strong>Occupancy Rate:</strong> ${Math.round((rooms.reduce((sum, r) => sum + r.occupied, 0) / rooms.reduce((sum, r) => sum + r.capacity, 0)) * 100)}%</p>
        </div>
      `;
      openModal('üìä Reports & Analytics', content);
    }

    // Warden Dashboard
    function getWardenDashboard() {
      return `
        <div class="stats-grid">
          <div class="stat-card">
            <div class="icon">üë•</div>
            <h3>${students.filter(s => s.block === 'A').length}</h3>
            <p>Students in Block A</p>
          </div>
          <div class="stat-card">
            <div class="icon">üö®</div>
            <h3>${complaints.filter(c => c.status === 'Pending').length}</h3>
            <p>Pending Complaints</p>
          </div>
          <div class="stat-card">
            <div class="icon">‚úÖ</div>
            <h3>${students.length - 2}</h3>
            <p>Attendance Today</p>
          </div>
          <div class="stat-card">
            <div class="icon">üîß</div>
            <h3>${complaints.filter(c => c.status === 'In Progress').length}</h3>
            <p>Maintenance Tasks</p>
          </div>
        </div>

        <div class="actions-section">
          <h2>Quick Actions</h2>
          <div class="action-buttons">
            <button class="action-btn" onclick="markAttendance()">
              <div class="icon">üìù</div>
              <h3>Mark Attendance</h3>
              <p>Record daily attendance</p>
            </button>
            <button class="action-btn" onclick="viewComplaintsWarden()">
              <div class="icon">üö®</div>
              <h3>View Complaints</h3>
              <p>Handle student issues</p>
            </button>
            <button class="action-btn" onclick="updateComplaintStatus()">
              <div class="icon">üîß</div>
              <h3>Update Maintenance</h3>
              <p>Update complaint status</p>
            </button>
            <button class="action-btn" onclick="roomInspection()">
              <div class="icon">üìã</div>
              <h3>Room Inspection</h3>
              <p>Schedule inspections</p>
            </button>
            <button class="action-btn" onclick="viewStudentsWarden()">
              <div class="icon">üë•</div>
              <h3>View Students</h3>
              <p>See block students</p>
            </button>
            <button class="action-btn" onclick="postAnnouncement()">
              <div class="icon">üì¢</div>
              <h3>Announcements</h3>
              <p>Post notices</p>
            </button>
          </div>
        </div>

        <div class="info-section">
          <h3>‚ö†Ô∏è Pending Tasks</h3>
          <ul class="info-list">
            ${complaints.filter(c => c.status !== 'Resolved').slice(0, 4).map(c => `
              <li>
                <strong>${c.room} - ${c.issue}</strong>
                <span class="badge ${c.status === 'In Progress' ? 'badge-warning' : 'badge-danger'}">${c.status}</span>
              </li>
            `).join('')}
          </ul>
        </div>
      `;
    }

    function attachWardenListeners() {
      // Listeners attached via onclick
    }

    // Warden Actions
    function markAttendance() {
      const form = `
        <div class="success-message" style="display: none;" id="attendanceSuccess">
          ‚úÖ Attendance marked successfully!
        </div>
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>Student Name</th>
                <th>Room</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              ${students.filter(s => s.block === 'A').map(s => `
                <tr>
                  <td>${s.name}</td>
                  <td>${s.room}</td>
                  <td>
                    <select class="attendance-status" style="padding: 5px; border-radius: 5px;">
                      <option value="Present">Present</option>
                      <option value="Absent">Absent</option>
                    </select>
                  </td>
                </tr>
              `).join('')}
            </tbody>
          </table>
        </div>
        <button onclick="submitAttendance()" style="margin-top: 20px;">Submit Attendance</button>
      `;
      openModal('üìù Mark Attendance - Block A', form);
    }

    function submitAttendance() {
      document.getElementById('attendanceSuccess').style.display = 'block';
      setTimeout(() => {
        closeModal();
        alert('‚úÖ Attendance marked successfully!');
      }, 1500);
    }

    function viewComplaintsWarden() {
      const table = `
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>Student</th>
                <th>Room</th>
                <th>Issue</th>
                <th>Status</th>
                <th>Date</th>
              </tr>
            </thead>
            <tbody>
              ${complaints.map(c => `
                <tr>
                  <td>${c.student}</td>
                  <td>${c.room}</td>
                  <td>${c.issue}</td>
                  <td><span class="badge ${c.status === 'Resolved' ? 'badge-success' : c.status === 'In Progress' ? 'badge-warning' : 'badge-danger'}">${c.status}</span></td>
                  <td>${c.date}</td>
                </tr>
              `).join('')}
            </tbody>
          </table>
        </div>
      `;
      openModal('üö® All Complaints', table);
    }

    function updateComplaintStatus() {
      const form = `
        <form id="updateComplaintForm">
          <div class="form-group">
            <label>Select Complaint</label>
            <select id="complaintSelect" required>
              ${complaints.filter(c => c.status !== 'Resolved').map(c => `
                <option value="${c.id}">${c.room} - ${c.issue}</option>
              `).join('')}
            </select>
          </div>
          <div class="form-group">
            <label>Update Status</label>
            <select id="statusSelect" required>
              <option value="Pending">Pending</option>
              <option value="In Progress">In Progress</option>
              <option value="Resolved">Resolved</option>
            </select>
          </div>
          <button type="submit">Update Status</button>
        </form>
      `;
      
      openModal('üîß Update Complaint Status', form);
      
      document.getElementById('updateComplaintForm').addEventListener('submit', (e) => {
        e.preventDefault();
        const complaintId = parseInt(document.getElementById('complaintSelect').value);
        const newStatus = document.getElementById('statusSelect').value;
        const complaint = complaints.find(c => c.id === complaintId);
        if (complaint) {
          complaint.status = newStatus;
        }
        closeModal();
        alert('‚úÖ Complaint status updated successfully!');
        showDashboard();
      });
    }

    function roomInspection() {
      const content = `
        <form id="inspectionForm">
          <div class="form-group">
            <label>Select Room</label>
            <select id="inspectionRoom" required>
              ${rooms.map(r => `<option value="${r.number}">${r.number}</option>`).join('')}
            </select>
          </div>
          <div class="form-group">
            <label>Inspection Date</label>
            <input type="date" id="inspectionDate" required>
          </div>
          <div class="form-group">
            <label>Notes</label>
            <textarea id="inspectionNotes" placeholder="Enter inspection notes..."></textarea>
          </div>
          <button type="submit">Schedule Inspection</button>
        </form>
      `;
      
      openModal('üìã Schedule Room Inspection', content);
      
      document.getElementById('inspectionForm').addEventListener('submit', (e) => {
        e.preventDefault();
        closeModal();
        alert('‚úÖ Inspection scheduled successfully!');
      });
    }

    function viewStudentsWarden() {
      const blockAStudents = students.filter(s => s.block === 'A');
      const table = `
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>Name</th>
                <th>Room</th>
                <th>Phone</th>
                <th>Fee Status</th>
              </tr>
            </thead>
            <tbody>
              ${blockAStudents.map(s => `
                <tr>
                  <td>${s.name}</td>
                  <td>${s.room}</td>
                  <td>${s.phone}</td>
                  <td><span class="badge ${s.fee === 'Paid' ? 'badge-success' : 'badge-warning'}">${s.fee}</span></td>
                </tr>
              `).join('')}
            </tbody>
          </table>
        </div>
      `;
      openModal('üë• Block A Students', table);
    }

    function postAnnouncement() {
      const form = `
        <form id="announcementForm">
          <div class="form-group">
            <label>Announcement Title</label>
            <input type="text" id="announcementTitle" required placeholder="Enter title">
          </div>
          <div class="form-group">
            <label>Message</label>
            <textarea id="announcementMessage" required placeholder="Enter announcement message..."></textarea>
          </div>
          <div class="form-group">
            <label>Priority</label>
            <select id="announcementPriority" required>
              <option value="Normal">Normal</option>
              <option value="Important">Important</option>
              <option value="Urgent">Urgent</option>
            </select>
          </div>
          <button type="submit">Post Announcement</button>
        </form>
      `;
      
      openModal('üì¢ Post Announcement', form);
      
      document.getElementById('announcementForm').addEventListener('submit', (e) => {
        e.preventDefault();
        closeModal();
        alert('‚úÖ Announcement posted successfully!');
      });
    }

    // Student Dashboard
    function getStudentDashboard() {
      const studentData = students.find(s => s.name === currentUser.name);
      const studentComplaints = complaints.filter(c => c.student === currentUser.name);
      
      return `
        <div class="stats-grid">
          <div class="stat-card">
            <div class="icon">üè†</div>
            <h3>${studentData?.room || 'A-204'}</h3>
            <p>Your Room Number</p>
          </div>
          <div class="stat-card">
            <div class="icon">üí∞</div>
            <h3>${studentData?.fee || 'Paid'}</h3>
            <p>Fee Status</p>
          </div>
          <div class="stat-card">
            <div class="icon">üìã</div>
            <h3>${studentComplaints.filter(c => c.status !== 'Resolved').length}</h3>
            <p>Active Complaints</p>
          </div>
          <div class="stat-card">
            <div class="icon">‚úÖ</div>
            <h3>95%</h3>
            <p>Attendance</p>
          </div>
        </div>

        <div class="actions-section">
          <h2>Quick Actions</h2>
          <div class="action-buttons">
            <button class="action-btn" onclick="submitComplaint()">
              <div class="icon">üö®</div>
              <h3>Submit Complaint</h3>
              <p>Report an issue</p>
            </button>
            <button class="action-btn" onclick="viewMyComplaints()">
              <div class="icon">üìù</div>
              <h3>My Complaints</h3>
              <p>Track your complaints</p>
            </button>
            <button class="action-btn" onclick="payFees()">
              <div class="icon">üí∞</div>
              <h3>Fee Payment</h3>
              <p>View & pay fees</p>
            </button>
            <button class="action-btn" onclick="viewRoommates()">
              <div class="icon">üë•</div>
              <h3>Roommates</h3>
              <p>View roommate details</p>
            </button>
            <button class="action-btn" onclick="applyLeave()">
              <div class="icon">üìù</div>
              <h3>Leave Request</h3>
              <p>Apply for leave</p>
            </button>
            <button class="action-btn" onclick="viewNotices()">
              <div class="icon">üì¢</div>
              <h3>Notices</h3>
              <p>View announcements</p>
            </button>
          </div>
        </div>

        <div class="info-section">
          <h3>‚ÑπÔ∏è Your Information</h3>
          <ul class="info-list">
            <li><strong>Room:</strong> <span>${studentData?.room || 'A-204'}</span></li>
            <li><strong>Block:</strong> <span>${studentData?.block || 'A'}</span></li>
            <li><strong>Roommates:</strong> <span>Vikas, Suresh</span></li>
            <li><strong>Warden:</strong> <span>Mr. Singh (9876543210)</span></li>
            <li><strong>Fee Due Date:</strong> <span>15th of every month</span></li>
            <li><strong>Check-in Time:</strong> <span>10:00 PM</span></li>
          </ul>
        </div>
      `;
    }

    function attachStudentListeners() {
      // Listeners attached via onclick
    }

    // Student Actions
    function submitComplaint() {
      const form = `
        <form id="complaintForm">
          <div class="form-group">
            <label>Issue Type</label>
            <select id="issueType" required>
              <option value="">Select issue type</option>
              <option value="Electrical">Electrical Problem</option>
              <option value="Plumbing">Plumbing Issue</option>
              <option value="AC/Heating">AC/Heating Problem</option>
              <option value="Furniture">Furniture Damage</option>
              <option value="Cleanliness">Cleanliness Issue</option>
              <option value="Other">Other</option>
            </select>
          </div>
          <div class="form-group">
            <label>Description</label>
            <textarea id="issueDescription" required placeholder="Describe your issue in detail..."></textarea>
          </div>
          <div class="form-group">
            <label>Priority</label>
            <select id="issuePriority" required>
              <option value="Low">Low</option>
              <option value="Medium">Medium</option>
              <option value="High">High</option>
            </select>
          </div>
          <button type="submit">Submit Complaint</button>
        </form>
      `;
      
      openModal('üö® Submit New Complaint', form);
      
      document.getElementById('complaintForm').addEventListener('submit', (e) => {
        e.preventDefault();
        const newComplaint = {
          id: complaints.length + 1,
          student: currentUser.name,
          room: students.find(s => s.name === currentUser.name)?.room || 'A-204',
          issue: document.getElementById('issueDescription').value,
          status: 'Pending',
          date: new Date().toISOString().split('T')[0]
        };
        complaints.push(newComplaint);
        closeModal();
        alert('‚úÖ Complaint submitted successfully! We will address it soon.');
        showDashboard();
      });
    }

    function viewMyComplaints() {
      const myComplaints = complaints.filter(c => c.student === currentUser.name);
      const table = myComplaints.length > 0 ? `
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>Date</th>
                <th>Issue</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              ${myComplaints.map(c => `
                <tr>
                  <td>${c.date}</td>
                  <td>${c.issue}</td>
                  <td><span class="badge ${c.status === 'Resolved' ? 'badge-success' : c.status === 'In Progress' ? 'badge-warning' : 'badge-danger'}">${c.status}</span></td>
                </tr>
              `).join('')}
            </tbody>
          </table>
        </div>
      ` : '<p style="text-align: center; padding: 20px; color: #666;">No complaints found.</p>';
      
      openModal('üìù My Complaints', table);
    }

    function payFees() {
      const studentData = students.find(s => s.name === currentUser.name);
      const feeAmount = 15000;
      
      const content = `
        <div style="text-align: center; padding: 20px;">
          <h3 style="color: #667eea; margin-bottom: 20px;">üí∞ Fee Payment</h3>
          <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0;">
            <p style="font-size: 14px; color: #666; margin-bottom: 10px;">Current Status</p>
            <h2 style="color: ${studentData?.fee === 'Paid' ? '#28a745' : '#ffc107'};">
              ${studentData?.fee || 'Pending'}
            </h2>
          </div>
          <p style="margin: 15px 0;"><strong>Monthly Fee:</strong> ‚Çπ${feeAmount}</p>
          <p style="margin: 15px 0;"><strong>Due Date:</strong> 15th of every month</p>
          ${studentData?.fee !== 'Paid' ? '<button onclick="processFeePayment()" style="margin-top: 20px;">Pay Now</button>' : '<p style="color: #28a745; margin-top: 20px;">‚úÖ Your fees are up to date!</p>'}
        </div>
      `;
      
      openModal('üí∞ Fee Payment', content);
    }

    function processFeePayment() {
      const studentData = students.find(s => s.name === currentUser.name);
      if (studentData) {
        studentData.fee = 'Paid';
      }
      closeModal();
      alert('‚úÖ Payment processed successfully! Thank you.');
      showDashboard();
    }

    function viewRoommates() {
      const content = `
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>Name</th>
                <th>Phone</th>
                <th>Course</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Vikas Sharma</td>
                <td>9876543220</td>
                <td>B.Tech CSE</td>
              </tr>
              <tr>
                <td>Suresh Kumar</td>
                <td>9876543221</td>
                <td>B.Tech ECE</td>
              </tr>
            </tbody>
          </table>
        </div>
      `;
      openModal('üë• Your Roommates', content);
    }

    function applyLeave() {
      const form = `
        <form id="leaveForm">
          <div class="form-group">
            <label>Leave Type</label>
            <select id="leaveType" required>
              <option value="">Select leave type</option>
              <option value="Home Visit">Home Visit</option>
              <option value="Medical">Medical</option>
              <option value="Emergency">Emergency</option>
              <option value="Other">Other</option>
            </select>
          </div>
          <div class="form-group">
            <label>From Date</label>
            <input type="date" id="fromDate" required>
          </div>
          <div class="form-group">
            <label>To Date</label>
            <input type="date" id="toDate" required>
          </div>
          <div class="form-group">
            <label>Reason</label>
            <textarea id="leaveReason" required placeholder="Enter reason for leave..."></textarea>
          </div>
          <button type="submit">Submit Leave Request</button>
        </form>
      `;
      
      openModal('üìù Apply for Leave', form);
      
      document.getElementById('leaveForm').addEventListener('submit', (e) => {
        e.preventDefault();
        closeModal();
        alert('‚úÖ Leave request submitted successfully! Awaiting approval.');
      });
    }

    function viewNotices() {
      const content = `
        <div style="padding: 10px;">
          <div style="background: #fff3cd; padding: 15px; border-radius: 10px; margin-bottom: 15px; border-left: 4px solid #ffc107;">
            <h4 style="color: #856404; margin-bottom: 8px;">‚ö†Ô∏è Important: Hostel Timing Update</h4>
            <p style="color: #856404; font-size: 14px;">Entry time has been extended to 10:30 PM on weekends.</p>
            <small style="color: #856404;">Posted: Nov 01, 2025</small>
          </div>
          <div style="background: #d4edda; padding: 15px; border-radius: 10px; margin-bottom: 15px; border-left: 4px solid #28a745;">
            <h4 style="color: #155724; margin-bottom: 8px;">‚úÖ Maintenance Schedule</h4>
            <p style="color: #155724; font-size: 14px;">AC servicing will be done in all rooms on November 10th.</p>
            <small style="color: #155724;">Posted: Oct 28, 2025</small>
          </div>
          <div style="background: #d1ecf1; padding: 15px; border-radius: 10px; margin-bottom: 15px; border-left: 4px solid #17a2b8;">
            <h4 style="color: #0c5460; margin-bottom: 8px;">‚ÑπÔ∏è Fee Payment Reminder</h4>
            <p style="color: #0c5460; font-size: 14px;">Monthly fees are due by 15th November. Late fees applicable after due date.</p>
            <small style="color: #0c5460;">Posted: Oct 25, 2025</small>
          </div>
        </div>
      `;
      openModal('üì¢ Notices & Announcements', content);
    }

    // Allow Enter key to login
    document.getElementById('password').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        login();
      }
    });

    // Close modal on outside click
    document.getElementById('modal').addEventListener('click', (e) => {
      if (e.target.id === 'modal') {
        closeModal();
      }
    });
  </script>
</body>
</html>